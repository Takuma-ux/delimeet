# 本番リリース前チェックリスト

## 🚨 必須削除・変更項目

### 1. Firebase Storage初期化コード
**ファイル**: `dating_food_app/lib/main.dart`
**変更箇所**: 
```dart
const bool isDevelopment = true; // 本番リリース時はfalseに変更
```
**変更内容**: `true` → `false` に変更

**または完全削除**:
- `initializeFirebaseStorage()` 関数全体を削除
- `main()` 関数内の `await initializeFirebaseStorage();` を削除

### 2. 本人確認書類関連の開発コード
**ファイル**: `dating_food_app/lib/cleanup_identity_data.dart`
**変更箇所**:
```dart
const bool isDevelopment = true; // 本番リリース時は必ずfalseに変更
const bool confirmDeletion = false; // 削除を実行する場合のみtrueに変更
```
**変更内容**: `isDevelopment` を `false` に変更

**⚠️ 超重要**: このファイルは全ての本人確認書類を削除する危険なスクリプトです！

**確認項目**:
- [ ] `cleanup_identity_data.dart` の `isDevelopment` を `false` に変更
- [ ] 本人確認書類のテスト用アップロード機能を削除
- [ ] 開発用のダミーデータ生成コードを削除
- [ ] テスト用の管理者権限コードを削除

### 3. デバッグログの削除
**確認項目**:
- [x] レストランログ出力の削除 (`🍽 レストラン項目の型` をコメントアウト)
- [x] レストランメソッドログの削除 (`🍽🍽🍽 _getRecommendedRestaurantsForced` をコメントアウト)
- [ ] `print()` 文の削除（特に機密情報を含むもの）
- [ ] デバッグ用のUI要素を削除
- [ ] テスト用のボタンやメニューを削除

### 4. Firebase設定の確認
**確認項目**:
- [ ] 本番用Firebase プロジェクトの設定
- [ ] セキュリティルールの最終確認
- [ ] API キーの本番環境用設定

### 5. アプリ設定
**確認項目**:
- [ ] アプリ名の確認
- [ ] バージョン番号の更新
- [ ] アイコンの最終確認
- [ ] 権限設定の確認

## 🔒 セキュリティチェック

### Firebase Storage
- [ ] セキュリティルールが適切に設定されている
- [ ] 不要なフォルダ・ファイルが存在しない
- [ ] アクセス権限が最小限に設定されている

### Firebase Functions
- [ ] 本番用の環境変数が設定されている
- [ ] デバッグ用のエンドポイントが削除されている
- [ ] エラーハンドリングが適切に実装されている

## 📱 最終テスト

### 機能テスト
- [ ] プロフィール画像アップロード
- [ ] ユーザー認証
- [ ] いいね機能
- [ ] マッチング機能
- [ ] メッセージ機能

### パフォーマンステスト
- [ ] アプリ起動時間
- [ ] 画像読み込み速度
- [ ] データベースクエリ速度

## 📋 リリース手順

1. **コード変更**
   - [ ] 上記の必須変更項目をすべて実施
   - [ ] コードレビューの実施

2. **ビルド**
   - [ ] リリースビルドの作成
   - [ ] 署名の確認

3. **最終確認**
   - [ ] 実機での動作確認
   - [ ] 本番環境での接続確認

4. **デプロイ**
   - [ ] App Store / Google Play への提出
   - [ ] Firebase Functions のデプロイ

---

**⚠️ 重要**: このチェックリストは本番リリース前に必ず確認してください。
特にFirebase Storage関連のコードは、既存データの破損リスクがあるため慎重に対応してください。 